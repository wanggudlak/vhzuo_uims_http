# 客户端 RSA 通信规则

UIMS 与 Client 之间的安全通信规则

## 满足条件

1. 高效
2. 易用
3. 业务无感

## 请求结构

```json
{
    "app_id": "",
    "charset": "utf-8",
    "datetime": "2020-05-01 12:00:00",
    "biz_content":  "{}",
    "version": "1.0",
    "sign_type": "RSA2",
    "sign": ""
}
```

## 响应结构

## 签名流程

1. 获取所有请求参数, 其中 biz_content 使用 json 编码
2. 剔除 sign, sign_type 参数
3. 剔除值为空的参数(PHP中的null, golang中的nil)
4. 按照第一个字符的键值ASCII码递增排序（字母升序排序），如果遇到相同字符则按照第二个字符的键值ASCII码递增排序，以此类推。
5. 将排序后的参数与其对应值，组合成“参数=参数值”的格式，并且把这些参数用&字符连接起来，此时生成的字符串为待签名字符串。
6. 使用自己的私钥进行签名, 将签名结果加入到请求参数中

## 验签流程